<!doctype html>
<meta charset="utf-8" />
<title>PCBuild-zh · Chat</title>
<link rel="stylesheet" href="./assets/css/common/auth-shared.css">
<link rel="stylesheet" href="./assets/css/pages/index.css">

<!-- 新增：右上角註冊 / 登入按鈕 -->
<header class="top-bar">
  <div class="top-bar__logo">PCBuild-zh</div>
  <div class="top-bar__actions" id="top-bar-actions">
    <a href="/register.html" class="top-bar__button">註冊</a>
    <a href="/login.html" class="top-bar__button">登入</a>
  </div>
</header>

<h1>和 AI 對話</h1>
<div id="log"></div>

<div class="composer-wrap">
  <div class="composer">
    <textarea id="chat-input" placeholder="輸入訊息…" aria-label="訊息輸入"></textarea>
    <button id="chat-send-btn" aria-label="送出訊息">送出</button>
  </div>
</div>
<div id="chat-hint" class="form-hint"></div>

<!-- Session 失效彈窗 -->
<div id="session-modal" class="modal-backdrop" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="session-modal-title">
  <div class="modal-card" tabindex="-1">
    <div class="modal-header">
      <h2 id="session-modal-title" class="modal-title">登入狀態已失效</h2>
      <button type="button" id="session-modal-close" class="modal-close" aria-label="關閉">×</button>
    </div>

    <p id="session-modal-msg" class="modal-body">...</p>

    <div class="modal-actions">
      <a href="/register.html" class="top-bar__button">註冊</a>
      <a href="/login.html" class="top-bar__button">前往登入</a>
    </div>
  </div>
</div>


<!-- Markdown 解析＋XSS 安全消毒（CDN） -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>

<script src="./assets/js/pages/index.js"></script>